<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Fitness Dashboard</title>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
    body {
        margin: 0;
        padding: 20px;
        font-family: Inter, Arial, sans-serif;
        background: #f6f7fb;
        color: #222;
    }

    h2 {
        font-size: 22px;
        margin-bottom: 10px;
        color: #111;
    }

    .section {
        background: #fff;
        padding: 15px;
        margin-bottom: 20px;
        border-radius: 14px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }

    input, button {
        width: 100%;
        padding: 12px;
        margin-top: 10px;
        border-radius: 10px;
        border: 1px solid #ddd;
        font-size: 16px;
    }

    button {
        background: #111;
        color: white;
        border: none;
        cursor: pointer;
    }

    button:hover {
        opacity: 0.8;
    }

    /* Simple color-coding */
    .mon {border-left: 5px solid #4285F4;}
    .tue {border-left: 5px solid #DB4437;}
    .wed {border-left: 5px solid #F4B400;}
    .thu {border-left: 5px solid #0F9D58;}
    .fri {border-left: 5px solid #AB47BC;}
    .sat {border-left: 5px solid #039BE5;}
    .sun {border-left: 5px solid #FF7043;}

    .checklist input {
        width: auto;
        margin-right: 10px;
        transform: scale(1.3);
    }
</style>
</head>
<body>

<h1>Your Fitness Tracker</h1>

<!-- ---------------- DAILY CHECKLIST ---------------- -->
<div class="section mon">
    <h2>Daily Checklist</h2>
    <div class="checklist">
        <label><input type="checkbox" id="water"> 3L Water</label><br>
        <label><input type="checkbox" id="steps"> 7,000 Steps</label><br>
        <label><input type="checkbox" id="workout"> Workout Done</label><br>
        <label><input type="checkbox" id="diet"> Followed Diet</label><br>
    </div>
    <button onclick="saveChecklist()">Save</button>
</div>

<!-- ---------------- WEIGHT LOG ---------------- -->
<div class="section tue">
    <h2>Weight Log</h2>
    <input type="number" id="weightInput" placeholder="Enter today’s weight (kg)" />
    <button onclick="addWeight()">Add Weight</button>
    <canvas id="weightChart" style="margin-top:20px;"></canvas>
</div>

<!-- ---------------- CALORIES BURNED (FORMULA) ---------------- -->
<div class="section wed">
    <h2>Calories Burned (Treadmill)</h2>

    <!-- Formula: Calories = (0.0175 × MET × weight_kg × minutes) -->
    <p><b>Formula:</b> 0.0175 × MET × weight × minutes</p>

    <input type="number" id="w" placeholder="Your weight (kg)">
    <input type="number" id="m" placeholder="Minutes walked">

    <select id="met">
        <option value="3.5">Normal walk</option>
        <option value="6">Fast walk</option>
        <option value="8">Jogging</option>
    </select>

    <button onclick="calcCalories()">Calculate</button>
    <h3 id="calOut"></h3>
</div>

<!-- ---------------- STEPS LOG ---------------- -->
<div class="section thu">
    <h2>Daily Steps</h2>
    <input type="number" id="stepsInput" placeholder="Enter steps for today">
    <button onclick="addSteps()">Add Steps</button>
    <canvas id="stepsChart"></canvas>
</div>

<script>
/* ------------ CHECKLIST SAVING -------------- */
function saveChecklist() {
    const data = {
        water: water.checked,
        steps: steps.checked,
        workout: workout.checked,
        diet: diet.checked
    };
    localStorage.setItem("checklist", JSON.stringify(data));
    alert("Saved!");
}

(function loadChecklist() {
    const data = JSON.parse(localStorage.getItem("checklist"));
    if (!data) return;
    water.checked = data.water;
    steps.checked = data.steps;
    workout.checked = data.workout;
    diet.checked = data.diet;
})();

/* ------------ WEIGHT CHART -------------- */
let weightData = JSON.parse(localStorage.getItem("weights")) || [];

function addWeight() {
    let w = Number(weightInput.value);
    if (!w) return alert("Enter weight!");
    weightData.push(w);
    localStorage.setItem("weights", JSON.stringify(weightData));
    weightChart.update();
}

const weightChart = new Chart(document.getElementById("weightChart"), {
    type: "line",
    data: {
        labels: weightData.map((v,i)=>`Day ${i+1}`),
        datasets: [{
            label: "Weight (kg)",
            data: weightData,
            borderWidth: 2,
            fill: false
        }]
    },
    options: {responsive: true}
});

/* ------------ STEPS CHART -------------- */
let stepsData = JSON.parse(localStorage.getItem("steps")) || [];

function addSteps() {
    let s = Number(stepsInput.value);
    if (!s) return alert("Enter steps!");
    stepsData.push(s);
    localStorage.setItem("steps", JSON.stringify(stepsData));
    stepsChart.update();
}

const stepsChart = new Chart(document.getElementById("stepsChart"), {
    type: "bar",
    data: {
        labels: stepsData.map((v,i)=>`Day ${i+1}`),
        datasets: [{
            label: "Steps",
            data: stepsData,
            borderWidth: 1
        }]
    },
    options: {responsive: true}
});

/* ------------ CALORIES FORMULA -------------- */
function calcCalories() {
    let weight = Number(document.getElementById("w").value);
    let minutes = Number(document.getElementById("m").value);
    let met = Number(document.getElementById("met").value);

    if (!weight || !minutes) {
        return alert("Enter weight and minutes!");
    }

    let calories = 0.0175 * met * weight * minutes;
    document.getElementById("calOut").innerText = `You burned approx ${Math.round(calories)} calories.`;
}
</script>

</body>
</html>
